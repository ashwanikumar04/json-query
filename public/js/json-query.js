!function(){function e(e,o,t,a){a.setDefaults({className:"ngdialog-theme-default",showClose:!0,closeByDocument:!0,closeByEscape:!0,width:"75%",height:"40%"}),t.includeSpinner=!0,t.parentSelector="#loadingContainer",t.spinnerTemplate='<div class="center"></div>',e.when("/",{controller:"JsonQueryController",templateUrl:"query.html"})}function o(e,o,t,a){}angular.module("jsonQuery",["ngRoute","ngSanitize","jsonQuery.controllers.main","jsonQuery.controllers.query","jsonQuery.services","angular-loading-bar","ngAnimate","flash","ngDialog","LocalStorageModule","ui.ace","angularLoad"]).config(e).run(o),e.$inject=["$routeProvider","$locationProvider","cfpLoadingBarProvider","ngDialogProvider"],o.$inject=["$rootScope","$location","$http","localStorageService"]}(),function(){function JsonQueryController($scope,$location,$rootScope,$interval,jsonQueryService,Flash,ngDialog,angularLoad){$rootScope.$emit("onTabChanged",8),$scope.gistUrl="",$scope.rightEditor="",$scope.libraries=jsonQueryService.getSupportedLibraries();var loadLibrary=function(e){angularLoad.loadScript(e).then(function(){}).catch(function(){Flash.create("danger","Some error occurred while loading the library","custom-class")})},formatObject=function(e){return JSON.stringify(e,null,4)};$scope.format=function(){$scope.input=formatObject(JSON.parse($scope.input))},$scope.loadLibrary=function(){loadLibrary($scope.selectedLibrary.url)},$scope.run=function(){var input=JSON.parse($scope.input),result=eval($scope.rightEditor);$scope.resultEditor=formatObject(result)},$scope.generateGist=function(){if(!$scope.rightEditor)return void Flash.create("danger","Please enter any code to save.","custom-class");jsonQueryService.generateGist($scope.rightEditor).then(function(e){var o=e.data.data;console.log(o),$scope.gistUrl=o.html_url}).catch(function(e){Flash.create("danger",e.data.message,"custom-class")})},loadLibrary($scope.libraries[0].url),$scope.input=formatObject(jsonQueryService.getDefaultObject())}angular.module("jsonQuery.controllers.query",[]).controller("JsonQueryController",["$scope","$location","$rootScope","$interval","jsonQueryService","Flash","ngDialog","angularLoad",JsonQueryController])}(),function(){var e=function(e,o,t,a,n){e.selectedTab=-1,e.isLoggedIn=!1,o.$on("onTabChanged",function(o,t){console.log(t),e.isLoggedIn=!0,e.selectedTab=t})};angular.module("jsonQuery.controllers.main",[]).controller("MainController",["$scope","$rootScope","jsonQueryService","$location","Flash",e])}(),function(){var e=function(e,o,t,a){return{generateGist:function(o){return e.post("/api/v1/query/gists",{description:"Query",public:!0,files:{"query.txt":{content:o}}})},getSupportedLibraries:function(){return[{name:"Lodash",url:"https://cdn.jsdelivr.net/npm/lodash@4.17.5/lodash.min.js"},{name:"Lodash2",url:"https://cdn.jsdelivr.net/npm/lodash@4.17.5/lodash.min.js"}]},getDefaultObject:function(){return[{name:"Java",version:"9"},{name:"C#",version:"7"},{name:"Scala",version:"NA"}]}}};angular.module("jsonQuery.services",[]).factory("jsonQueryService",["$http","$location","$rootScope","localStorageService",e])}(),function(){"use strict";var e=angular.module("flash",[]);e.run(["$rootScope",function(e){e.flash={},e.flash.text="",e.flash.type="",e.flash.timeout=5e3,e.hasFlash=!1}]),e.directive("dynamic",["$compile",function(e){return{restrict:"A",replace:!0,link:function(o,t,a){o.$watch(a.dynamic,function(a){t.html(a),e(t.contents())(o)})}}}]),e.directive("closeFlash",["$compile","Flash",function(e,o){return{link:function(e,t){t.on("click",function(){o.dismiss()})}}}]),e.directive("flashMessage",["$compile","$rootScope",function(e,o){return{restrict:"A",template:'<div role="alert" ng-show="hasFlash" class="alert {{flash.addClass}} alert-{{flash.type}} alert-dismissible ng-hide alertIn alertOut "> <span dynamic="flash.text"></span> <button type="button" class="close" close-flash><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> </div>',link:function(e,t,a){o.flash.timeout=parseInt(a.flashMessage,10)}}}]),e.factory("Flash",["$rootScope","$timeout",function(e,o){var t,a={};return a.create=function(a,n,r){var i=this;o.cancel(t),e.flash.type=a,e.flash.text=n,e.flash.addClass=r,o(function(){e.hasFlash=!0},100),t=o(function(){i.dismiss()},e.flash.timeout)},a.pause=function(){o.cancel(t)},a.dismiss=function(){o.cancel(t),o(function(){e.hasFlash=!1})},a}])}(),angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(e,o,t){function a(e){return function(a){if(void 0===r[a]){var n=o.defer(),i=e(a);i.onload=i.onreadystatechange=function(e){i.readyState&&"complete"!==i.readyState&&"loaded"!==i.readyState||t(function(){n.resolve(e)})},i.onerror=function(e){t(function(){n.reject(e)})},r[a]=n.promise}return r[a]}}var n=e[0],r={};this.loadScript=a(function(e){var o=n.createElement("script");return o.src=e,n.body.appendChild(o),o}),this.loadCSS=a(function(e){var o=n.createElement("link");return o.rel="stylesheet",o.type="text/css",o.href=e,n.head.appendChild(o),o}),this.unloadCSS=function(e){delete r[e];var o=n.head;if(o){var t=o.querySelector('[href="'+e+'"]');if(t)return t.remove(),!0}return!1}}]),function(e,o){"use strict";var t=o.isDefined,a=o.isUndefined,n=o.isNumber,r=o.isObject,i=o.isArray,l=o.extend,s=o.toJson;o.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){return this.prefix=e,this},this.setStorageType=function(e){return this.storageType=e,this},this.setStorageCookie=function(e,o){return this.cookie.expiry=e,this.cookie.path=o,this},this.setStorageCookieDomain=function(e){return this.cookie.domain=e,this},this.setNotify=function(e,o){return this.notify={setItem:e,removeItem:o},this},this.$get=["$rootScope","$window","$document","$parse",function(e,o,c,d){var u,g=this,f=g.prefix,p=g.cookie,m=g.notify,h=g.storageType;c?c[0]&&(c=c[0]):c=document,"."!==f.substr(-1)&&(f=f?f+".":"");var y=function(e){return f+e},v=function(){try{var t=h in o&&null!==o[h],a=y("__"+Math.round(1e7*Math.random()));return t&&(u=o[h],u.setItem(a,""),u.removeItem(a)),t}catch(o){return h="cookie",e.$broadcast("LocalStorageModule.notification.error",o.message),!1}}(),b=function(o,t){if(t=a(t)?null:s(t),!v||"cookie"===g.storageType)return v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),m.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:o,newvalue:t,storageType:"cookie"}),k(o,t);try{u&&u.setItem(y(o),t),m.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:o,newvalue:t,storageType:g.storageType})}catch(a){return e.$broadcast("LocalStorageModule.notification.error",a.message),k(o,t)}return!0},D=function(o){if(!v||"cookie"===g.storageType)return v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),E(o);var t=u?u.getItem(y(o)):null;if(!t||"null"===t)return null;try{return JSON.parse(t)}catch(e){return t}},$=function(){var o,t;for(o=0;o<arguments.length;o++)if(t=arguments[o],v&&"cookie"!==g.storageType)try{u.removeItem(y(t)),m.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:t,storageType:g.storageType})}catch(o){e.$broadcast("LocalStorageModule.notification.error",o.message),O(t)}else v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),m.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:t,storageType:"cookie"}),O(t)},S=function(){if(!v)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var o=f.length,t=[];for(var a in u)if(a.substr(0,o)===f)try{t.push(a.substr(o))}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.Description),[]}return t},C=function(o){var t=f?new RegExp("^"+f):new RegExp,a=o?new RegExp(o):new RegExp;if(!v||"cookie"===g.storageType)return v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),w();var n=f.length;for(var r in u)if(t.test(r)&&a.test(r.substr(n)))try{$(r.substr(n))}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.message),w()}return!0},T=function(){try{return o.navigator.cookieEnabled||"cookie"in c&&(c.cookie.length>0||(c.cookie="test").indexOf.call(c.cookie,"test")>-1)}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.message),!1}}(),k=function(o,t,l){if(a(t))return!1;if((i(t)||r(t))&&(t=s(t)),!T)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var d="",u=new Date,g="";if(null===t?(u.setTime(u.getTime()+-864e5),d="; expires="+u.toGMTString(),t=""):n(l)&&0!==l?(u.setTime(u.getTime()+24*l*60*60*1e3),d="; expires="+u.toGMTString()):0!==p.expiry&&(u.setTime(u.getTime()+24*p.expiry*60*60*1e3),d="; expires="+u.toGMTString()),o){var f="; path="+p.path;p.domain&&(g="; domain="+p.domain),c.cookie=y(o)+"="+encodeURIComponent(t)+d+f+g}}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.message),!1}return!0},E=function(o){if(!T)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var t=c.cookie&&c.cookie.split(";")||[],a=0;a<t.length;a++){for(var n=t[a];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(y(o)+"=")){var r=decodeURIComponent(n.substring(f.length+o.length+1,n.length));try{return JSON.parse(r)}catch(e){return r}}}return null},O=function(e){k(e,null)},w=function(){for(var e=null,o=f.length,t=c.cookie.split(";"),a=0;a<t.length;a++){for(e=t[a];" "===e.charAt(0);)e=e.substring(1,e.length);var n=e.substring(o,e.indexOf("="));O(n)}};return{isSupported:v,getStorageType:function(){return h},set:b,add:b,get:D,keys:S,remove:$,clearAll:C,bind:function(e,o,a,n){n=n||o;var i=D(n);return null===i&&t(a)?i=a:r(i)&&r(a)&&(i=l(a,i)),d(o).assign(e,i),e.$watch(o,function(e){b(n,e)},r(e[o]))},deriveKey:y,length:function(){for(var e=0,t=o[h],a=0;a<t.length;a++)0===t.key(a).indexOf(f)&&e++;return e},cookie:{isSupported:T,set:k,add:k,get:E,remove:O,clearAll:w}}}]})}(window,window.angular),function(e,o){"undefined"!=typeof module&&module.exports?(o("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],o):o(e.angular)}(this,function(e){"use strict";var o=e.module("ngDialog",[]),t=e.element,a=e.isDefined,n=(document.body||document.documentElement).style,r=a(n.animation)||a(n.WebkitAnimation)||a(n.MozAnimation)||a(n.MsAnimation)||a(n.OAnimation),i="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",l={html:!1,body:!1},s={},c=[],d=!1,u=!1;return o.provider("ngDialog",function(){var o=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(e){l.html=e||!1},this.setForceBodyReload=function(e){l.body=e||!1},this.setDefaults=function(t){e.extend(o,t)},this.setOpenOnePerName=function(e){u=e||!1};var a,n=0,g=0,f={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(p,m,h,y,v,b,D,$,S,C){var T=[],k={onDocumentKeydown:function(e){27===e.keyCode&&E.close("$escape")},activate:function(e){e.data("$ngDialogOptions").trapFocus&&(e.on("keydown",k.onTrapFocusKeydown),T.body.on("keydown",k.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",k.onTrapFocusKeydown),T.body.off("keydown",k.onTrapFocusKeydown)},deactivateAll:function(o){e.forEach(o,function(o){var t=e.element(o);k.deactivate(t)})},setBodyPadding:function(e){var o=parseInt(T.body.css("padding-right")||0,10);T.body.css("padding-right",o+e+"px"),T.body.data("ng-dialog-original-padding",o),b.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=T.body.data("ng-dialog-original-padding");e?T.body.css("padding-right",e+"px"):T.body.css("padding-right",""),b.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,o){var t=e.data("$ngDialogOptions"),n=e.attr("id"),l=s[n];if(l){if(void 0!==$.Hammer){var u=l.hammerTime;u.off("tap",a),u.destroy&&u.destroy(),delete l.hammerTime}else e.unbind("click");1===g&&T.body.unbind("keydown",k.onDocumentKeydown),e.hasClass("ngdialog-closing")||(g-=1);var p=e.data("$ngDialogPreviousFocus");p&&p.focus&&p.focus(),b.$broadcast("ngDialog.closing",e,o),g=g<0?0:g,r&&!t.disableAnimation?(l.$destroy(),e.unbind(i).bind(i,function(){k.closeDialogElement(e,o)}).addClass("ngdialog-closing")):(l.$destroy(),k.closeDialogElement(e,o)),f[n]&&(f[n].resolve({id:n,value:o,$dialog:e,remainingDialogs:g}),delete f[n]),s[n]&&delete s[n],c.splice(c.indexOf(n),1),c.length||(T.body.unbind("keydown",k.onDocumentKeydown),d=!1)}},closeDialogElement:function(e,o){var t=e.data("$ngDialogOptions");e.remove(),0===g&&(T.html.removeClass(t.bodyClassName),T.body.removeClass(t.bodyClassName),k.resetBodyPadding()),b.$broadcast("ngDialog.closed",e,o)},closeDialog:function(o,t){var a=o.data("$ngDialogPreCloseCallback");if(a&&e.isFunction(a)){var n=a.call(o,t);if(e.isObject(n))n.closePromise?n.closePromise.then(function(){k.performCloseDialog(o,t)},function(){return!1}):n.then(function(){k.performCloseDialog(o,t)},function(){return!1});else{if(!1===n)return!1;k.performCloseDialog(o,t)}}else k.performCloseDialog(o,t)},onTrapFocusKeydown:function(o){var t,a=e.element(o.currentTarget);if(a.hasClass("ngdialog"))t=a;else if(null===(t=k.getActiveDialog()))return;var n=9===o.keyCode,r=!0===o.shiftKey;n&&k.handleTab(t,o,r)},handleTab:function(e,o,t){var a=k.getFocusableElements(e);if(0===a.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var n=document.activeElement,r=Array.prototype.indexOf.call(a,n),i=-1===r,l=0===r,s=r===a.length-1,c=!1;t?(i||l)&&(a[a.length-1].focus(),c=!0):(i||s)&&(a[0].focus(),c=!0),c&&(o.preventDefault(),o.stopPropagation())},autoFocus:function(e){var o=e[0],a=o.querySelector("*[autofocus]");if(null===a||(a.focus(),document.activeElement!==a)){var n=k.getFocusableElements(e);if(n.length>0)return void n[0].focus();var r=k.filterVisibleElements(o.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(r.length>0){var i=r[0];t(i).attr("tabindex","-1").css("outline","0"),i.focus()}}},getFocusableElements:function(e){var o=e[0],t=o.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),a=k.filterTabbableElements(t);return k.filterVisibleElements(a)},filterTabbableElements:function(e){for(var o=[],a=0;a<e.length;a++){var n=e[a];"-1"!==t(n).attr("tabindex")&&o.push(n)}return o},filterVisibleElements:function(e){for(var o=[],t=0;t<e.length;t++){var a=e[t];(a.offsetWidth>0||a.offsetHeight>0)&&o.push(a)}return o},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:t(e[e.length-1])},applyAriaAttributes:function(e,o){if(o.ariaAuto){if(!o.ariaRole){var t=k.getFocusableElements(e).length>0?"dialog":"alertdialog";o.ariaRole=t}o.ariaLabelledBySelector||(o.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),o.ariaDescribedBySelector||(o.ariaDescribedBySelector="article,section,p")}o.ariaRole&&e.attr("role",o.ariaRole),k.applyAriaAttribute(e,"aria-labelledby",o.ariaLabelledById,o.ariaLabelledBySelector),k.applyAriaAttribute(e,"aria-describedby",o.ariaDescribedById,o.ariaDescribedBySelector)},applyAriaAttribute:function(e,o,a,n){if(a&&e.attr(o,a),n){var r=e.attr("id"),i=e[0].querySelector(n);if(!i)return;var l=r+"-"+o;return t(i).attr("id",l),e.attr(o,l),l}},detectUIRouter:function(){try{return e.module("ui.router"),!0}catch(e){return!1}},getRouterLocationEventName:function(){return k.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},E={__PRIVATE__:k,open:function(r){function i(e,o){return b.$broadcast("ngDialog.templateLoading",e),v.get(e,o||{}).then(function(o){return b.$broadcast("ngDialog.templateLoaded",e),o.data||""})}var l=null;if(r=r||{},!(u&&r.name&&(l=r.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(l)))){var p=e.copy(o),O=++n;l=l||"ngdialog"+O,c.push(l),void 0!==p.data&&(void 0===r.data&&(r.data={}),r.data=e.merge(e.copy(p.data),r.data)),e.extend(p,r);var w;f[l]=w=y.defer();var A;s[l]=A=e.isObject(p.scope)?p.scope.$new():b.$new();var L,x,B,P=e.extend({},p.resolve);return e.forEach(P,function(o,t){P[t]=e.isString(o)?C.get(o):C.invoke(o,null,null,t)}),y.all({template:function(o){return o?e.isString(o)&&p.plain?o:"boolean"!=typeof p.cache||p.cache?i(o,{cache:m}):i(o,{cache:!1}):"Empty template"}(p.template||p.templateUrl),locals:y.all(P)}).then(function(o){var n=o.template,r=o.locals;p.showClose&&(n+='<div class="ngdialog-close"></div>');var i=p.overlay?"":" ngdialog-no-overlay";if(L=t('<div id="'+l+'" class="ngdialog'+i+'"></div>'),L.html(p.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+n+"</div>":'<div class="ngdialog-content" role="document">'+n+"</div>"),L.data("$ngDialogOptions",p),A.ngDialogId=l,p.data&&e.isString(p.data)){var s=p.data.replace(/^\s*/,"")[0];A.ngDialogData="{"===s||"["===s?e.fromJson(p.data):new String(p.data),A.ngDialogData.ngDialogId=l}else p.data&&e.isObject(p.data)&&(A.ngDialogData=p.data,A.ngDialogData.ngDialogId=l);if(p.className&&L.addClass(p.className),p.appendClassName&&L.addClass(p.appendClassName),p.width&&(B=L[0].querySelector(".ngdialog-content"),e.isString(p.width)?B.style.width=p.width:B.style.width=p.width+"px"),p.height&&(B=L[0].querySelector(".ngdialog-content"),e.isString(p.height)?B.style.height=p.height:B.style.height=p.height+"px"),p.disableAnimation&&L.addClass("ngdialog-disabled-animation"),x=p.appendTo&&e.isString(p.appendTo)?e.element(document.querySelector(p.appendTo)):T.body,k.applyAriaAttributes(L,p),p.preCloseCallback){var c;e.isFunction(p.preCloseCallback)?c=p.preCloseCallback:e.isString(p.preCloseCallback)&&A&&(e.isFunction(A[p.preCloseCallback])?c=A[p.preCloseCallback]:A.$parent&&e.isFunction(A.$parent[p.preCloseCallback])?c=A.$parent[p.preCloseCallback]:b&&e.isFunction(b[p.preCloseCallback])&&(c=b[p.preCloseCallback])),c&&L.data("$ngDialogPreCloseCallback",c)}if(A.closeThisDialog=function(e){k.closeDialog(L,e)},p.controller&&(e.isString(p.controller)||e.isArray(p.controller)||e.isFunction(p.controller))){var u;p.controllerAs&&e.isString(p.controllerAs)&&(u=p.controllerAs);var f=S(p.controller,e.extend(r,{$scope:A,$element:L}),!0,u);p.bindToController&&e.extend(f.instance,{ngDialogId:A.ngDialogId,ngDialogData:A.ngDialogData,closeThisDialog:A.closeThisDialog,confirm:A.confirm}),"function"==typeof f?L.data("$ngDialogControllerController",f()):L.data("$ngDialogControllerController",f)}if(D(function(){var e=document.querySelectorAll(".ngdialog");k.deactivateAll(e),h(L)(A);var o=$.innerWidth-T.body.prop("clientWidth");T.html.addClass(p.bodyClassName),T.body.addClass(p.bodyClassName);var t=o-($.innerWidth-T.body.prop("clientWidth"));t>0&&k.setBodyPadding(t),x.append(L),k.activate(L),p.trapFocus&&k.autoFocus(L),p.name?b.$broadcast("ngDialog.opened",{dialog:L,name:p.name}):b.$broadcast("ngDialog.opened",L)}),d||(T.body.bind("keydown",k.onDocumentKeydown),d=!0),p.closeByNavigation){var m=k.getRouterLocationEventName();b.$on(m,function(e){!1===k.closeDialog(L)&&e.preventDefault()})}if(p.preserveFocus&&L.data("$ngDialogPreviousFocus",document.activeElement),a=function(e){var o=!!p.closeByDocument&&t(e.target).hasClass("ngdialog-overlay"),a=t(e.target).hasClass("ngdialog-close");(o||a)&&E.close(L.attr("id"),a?"$closeButton":"$document")},void 0!==$.Hammer){(A.hammerTime=$.Hammer(L[0])).on("tap",a)}else L.bind("click",a);return g+=1,E}),{id:l,closePromise:w.promise,close:function(e){k.closeDialog(L,e)}}}},openConfirm:function(a){var n=y.defer(),r=e.copy(o);a=a||{},void 0!==r.data&&(void 0===a.data&&(a.data={}),a.data=e.merge(e.copy(r.data),a.data)),e.extend(r,a),r.scope=e.isObject(r.scope)?r.scope.$new():b.$new(),r.scope.confirm=function(e){n.resolve(e);var o=t(document.getElementById(i.id));k.performCloseDialog(o,e)};var i=E.open(r);if(i)return i.closePromise.then(function(e){return e?n.reject(e.value):n.reject()}),n.promise},isOpen:function(e){return t(document.getElementById(e)).length>0},close:function(e,o){var a=t(document.getElementById(e));if(a.length)k.closeDialog(a,o);else if("$escape"===e){var n=c[c.length-1];a=t(document.getElementById(n)),a.data("$ngDialogOptions").closeByEscape&&k.closeDialog(a,"$escape")}else E.closeAll(o);return E},closeAll:function(e){for(var o=document.querySelectorAll(".ngdialog"),a=o.length-1;a>=0;a--){var n=o[a];k.closeDialog(t(n),e)}},getOpenDialogs:function(){return c},getDefaults:function(){return o}};return e.forEach(["html","body"],function(e){if(T[e]=p.find(e),l[e]){var o=k.getRouterLocationEventName();b.$on(o,function(){T[e]=p.find(e)})}}),E}]}),o.directive("ngDialog",["ngDialog",function(o){return{restrict:"A",scope:{ngDialogScope:"="},link:function(t,a,n){a.on("click",function(a){a.preventDefault();var r=e.isDefined(t.ngDialogScope)?t.ngDialogScope:"noScope";e.isDefined(n.ngDialogClosePrevious)&&o.close(n.ngDialogClosePrevious);var i=o.getDefaults();o.open({template:n.ngDialog,className:n.ngDialogClass||i.className,appendClassName:n.ngDialogAppendClass,controller:n.ngDialogController,controllerAs:n.ngDialogControllerAs,bindToController:n.ngDialogBindToController,scope:r,data:n.ngDialogData,showClose:"false"!==n.ngDialogShowClose&&("true"===n.ngDialogShowClose||i.showClose),closeByDocument:"false"!==n.ngDialogCloseByDocument&&("true"===n.ngDialogCloseByDocument||i.closeByDocument),closeByEscape:"false"!==n.ngDialogCloseByEscape&&("true"===n.ngDialogCloseByEscape||i.closeByEscape),overlay:"false"!==n.ngDialogOverlay&&("true"===n.ngDialogOverlay||i.overlay),preCloseCallback:n.ngDialogPreCloseCallback||i.preCloseCallback,bodyClassName:n.ngDialogBodyClass||i.bodyClassName})})}}}]),o});