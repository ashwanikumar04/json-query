!function(){function e(e,t,o,n){n.setDefaults({className:"ngdialog-theme-default",showClose:!0,closeByDocument:!0,closeByEscape:!0,width:"75%",height:"40%"}),o.includeSpinner=!0,o.parentSelector="#loadingContainer",o.spinnerTemplate='<div class="center"></div>',e.when("/",{controller:"JsonQueryController",templateUrl:"query.html"})}function t(e,t,o,n){}angular.module("jsonQuery",["ngRoute","ngSanitize","jsonQuery.controllers.main","jsonQuery.controllers.query","jsonQuery.services","angular-loading-bar","ngAnimate","flash","ngDialog","LocalStorageModule","ui.ace","angularLoad"]).config(e).run(t),e.$inject=["$routeProvider","$locationProvider","cfpLoadingBarProvider","ngDialogProvider"],t.$inject=["$rootScope","$location","$http","localStorageService"]}(),function(){function e(e,t,o,n,a,r,i,l){o.$emit("onTabChanged",8),e.gistUrl="",e.rightEditor="",e.libraries=a.getSupportedLibraries();var s=function(e){l.loadScript(e).then(function(){}).catch(function(){r.create("danger","Some error occurred while loading the library","custom-class")})},c=function(e){return JSON.stringify(e,null,4)};e.format=function(){e.input=c(JSON.parse(e.input))},e.loadLibrary=function(){s(e.selectedLibrary.url)},e.run=function(){var t=JSON.parse(e.input);return new Function("input",e.rightEditor)(t)},e.generateGist=function(){if(!e.rightEditor)return void r.create("danger","Please enter any code to save.","custom-class");a.generateGist(e.rightEditor).then(function(t){var o=t.data.data;console.log(o),e.gistUrl=o.html_url}).catch(function(e){r.create("danger",e.data.message,"custom-class")})},s(e.libraries[0].url),e.input=c(a.getDefaultObject())}angular.module("jsonQuery.controllers.query",[]).controller("JsonQueryController",["$scope","$location","$rootScope","$interval","jsonQueryService","Flash","ngDialog","angularLoad",e])}(),function(){var e=function(e,t,o,n,a){e.selectedTab=-1,e.isLoggedIn=!1,t.$on("onTabChanged",function(t,o){console.log(o),e.isLoggedIn=!0,e.selectedTab=o})};angular.module("jsonQuery.controllers.main",[]).controller("MainController",["$scope","$rootScope","jsonQueryService","$location","Flash",e])}(),function(){var e=function(e,t,o,n){return{generateGist:function(t){return e.post("/api/v1/query/gists",{description:"Query",public:!0,files:{"query.txt":{content:t}}})},getSupportedLibraries:function(){return[{name:"Lodash",url:"https://cdn.jsdelivr.net/npm/lodash@4.17.5/lodash.min.js"},{name:"Lodash2",url:"https://cdn.jsdelivr.net/npm/lodash@4.17.5/lodash.min.js"}]},getDefaultObject:function(){return[{name:"Java",version:"9"},{name:"C#",version:"7"},{name:"Scala",version:"NA"}]}}};angular.module("jsonQuery.services",[]).factory("jsonQueryService",["$http","$location","$rootScope","localStorageService",e])}(),function(){"use strict";var e=angular.module("flash",[]);e.run(["$rootScope",function(e){e.flash={},e.flash.text="",e.flash.type="",e.flash.timeout=5e3,e.hasFlash=!1}]),e.directive("dynamic",["$compile",function(e){return{restrict:"A",replace:!0,link:function(t,o,n){t.$watch(n.dynamic,function(n){o.html(n),e(o.contents())(t)})}}}]),e.directive("closeFlash",["$compile","Flash",function(e,t){return{link:function(e,o){o.on("click",function(){t.dismiss()})}}}]),e.directive("flashMessage",["$compile","$rootScope",function(e,t){return{restrict:"A",template:'<div role="alert" ng-show="hasFlash" class="alert {{flash.addClass}} alert-{{flash.type}} alert-dismissible ng-hide alertIn alertOut "> <span dynamic="flash.text"></span> <button type="button" class="close" close-flash><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> </div>',link:function(e,o,n){t.flash.timeout=parseInt(n.flashMessage,10)}}}]),e.factory("Flash",["$rootScope","$timeout",function(e,t){var o,n={};return n.create=function(n,a,r){var i=this;t.cancel(o),e.flash.type=n,e.flash.text=a,e.flash.addClass=r,t(function(){e.hasFlash=!0},100),o=t(function(){i.dismiss()},e.flash.timeout)},n.pause=function(){t.cancel(o)},n.dismiss=function(){t.cancel(o),t(function(){e.hasFlash=!1})},n}])}(),angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(e,t,o){function n(e){return function(n){if(void 0===r[n]){var a=t.defer(),i=e(n);i.onload=i.onreadystatechange=function(e){i.readyState&&"complete"!==i.readyState&&"loaded"!==i.readyState||o(function(){a.resolve(e)})},i.onerror=function(e){o(function(){a.reject(e)})},r[n]=a.promise}return r[n]}}var a=e[0],r={};this.loadScript=n(function(e){var t=a.createElement("script");return t.src=e,a.body.appendChild(t),t}),this.loadCSS=n(function(e){var t=a.createElement("link");return t.rel="stylesheet",t.type="text/css",t.href=e,a.head.appendChild(t),t}),this.unloadCSS=function(e){delete r[e];var t=a.head;if(t){var o=t.querySelector('[href="'+e+'"]');if(o)return o.remove(),!0}return!1}}]),function(e,t){"use strict";var o=t.isDefined,n=t.isUndefined,a=t.isNumber,r=t.isObject,i=t.isArray,l=t.extend,s=t.toJson;t.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){return this.prefix=e,this},this.setStorageType=function(e){return this.storageType=e,this},this.setStorageCookie=function(e,t){return this.cookie.expiry=e,this.cookie.path=t,this},this.setStorageCookieDomain=function(e){return this.cookie.domain=e,this},this.setNotify=function(e,t){return this.notify={setItem:e,removeItem:t},this},this.$get=["$rootScope","$window","$document","$parse",function(e,t,c,d){var u,g=this,f=g.prefix,p=g.cookie,m=g.notify,h=g.storageType;c?c[0]&&(c=c[0]):c=document,"."!==f.substr(-1)&&(f=f?f+".":"");var y=function(e){return f+e},v=function(){try{var o=h in t&&null!==t[h],n=y("__"+Math.round(1e7*Math.random()));return o&&(u=t[h],u.setItem(n,""),u.removeItem(n)),o}catch(t){return h="cookie",e.$broadcast("LocalStorageModule.notification.error",t.message),!1}}(),b=function(t,o){if(o=n(o)?null:s(o),!v||"cookie"===g.storageType)return v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),m.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:o,storageType:"cookie"}),k(t,o);try{u&&u.setItem(y(t),o),m.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:o,storageType:g.storageType})}catch(n){return e.$broadcast("LocalStorageModule.notification.error",n.message),k(t,o)}return!0},D=function(t){if(!v||"cookie"===g.storageType)return v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),E(t);var o=u?u.getItem(y(t)):null;if(!o||"null"===o)return null;try{return JSON.parse(o)}catch(e){return o}},S=function(){var t,o;for(t=0;t<arguments.length;t++)if(o=arguments[t],v&&"cookie"!==g.storageType)try{u.removeItem(y(o)),m.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:o,storageType:g.storageType})}catch(t){e.$broadcast("LocalStorageModule.notification.error",t.message),w(o)}else v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),m.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:o,storageType:"cookie"}),w(o)},C=function(){if(!v)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var t=f.length,o=[];for(var n in u)if(n.substr(0,t)===f)try{o.push(n.substr(t))}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.Description),[]}return o},$=function(t){var o=f?new RegExp("^"+f):new RegExp,n=t?new RegExp(t):new RegExp;if(!v||"cookie"===g.storageType)return v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),A();var a=f.length;for(var r in u)if(o.test(r)&&n.test(r.substr(a)))try{S(r.substr(a))}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),A()}return!0},T=function(){try{return t.navigator.cookieEnabled||"cookie"in c&&(c.cookie.length>0||(c.cookie="test").indexOf.call(c.cookie,"test")>-1)}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}}(),k=function(t,o,l){if(n(o))return!1;if((i(o)||r(o))&&(o=s(o)),!T)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var d="",u=new Date,g="";if(null===o?(u.setTime(u.getTime()+-864e5),d="; expires="+u.toGMTString(),o=""):a(l)&&0!==l?(u.setTime(u.getTime()+24*l*60*60*1e3),d="; expires="+u.toGMTString()):0!==p.expiry&&(u.setTime(u.getTime()+24*p.expiry*60*60*1e3),d="; expires="+u.toGMTString()),t){var f="; path="+p.path;p.domain&&(g="; domain="+p.domain),c.cookie=y(t)+"="+encodeURIComponent(o)+d+f+g}}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}return!0},E=function(t){if(!T)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var o=c.cookie&&c.cookie.split(";")||[],n=0;n<o.length;n++){for(var a=o[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(y(t)+"=")){var r=decodeURIComponent(a.substring(f.length+t.length+1,a.length));try{return JSON.parse(r)}catch(e){return r}}}return null},w=function(e){k(e,null)},A=function(){for(var e=null,t=f.length,o=c.cookie.split(";"),n=0;n<o.length;n++){for(e=o[n];" "===e.charAt(0);)e=e.substring(1,e.length);var a=e.substring(t,e.indexOf("="));w(a)}};return{isSupported:v,getStorageType:function(){return h},set:b,add:b,get:D,keys:C,remove:S,clearAll:$,bind:function(e,t,n,a){a=a||t;var i=D(a);return null===i&&o(n)?i=n:r(i)&&r(n)&&(i=l(n,i)),d(t).assign(e,i),e.$watch(t,function(e){b(a,e)},r(e[t]))},deriveKey:y,length:function(){for(var e=0,o=t[h],n=0;n<o.length;n++)0===o.key(n).indexOf(f)&&e++;return e},cookie:{isSupported:T,set:k,add:k,get:E,remove:w,clearAll:A}}}]})}(window,window.angular),function(e,t){"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(this,function(e){"use strict";var t=e.module("ngDialog",[]),o=e.element,n=e.isDefined,a=(document.body||document.documentElement).style,r=n(a.animation)||n(a.WebkitAnimation)||n(a.MozAnimation)||n(a.MsAnimation)||n(a.OAnimation),i="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",l={html:!1,body:!1},s={},c=[],d=!1,u=!1;return t.provider("ngDialog",function(){var t=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(e){l.html=e||!1},this.setForceBodyReload=function(e){l.body=e||!1},this.setDefaults=function(o){e.extend(t,o)},this.setOpenOnePerName=function(e){u=e||!1};var n,a=0,g=0,f={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(p,m,h,y,v,b,D,S,C,$){var T=[],k={onDocumentKeydown:function(e){27===e.keyCode&&E.close("$escape")},activate:function(e){e.data("$ngDialogOptions").trapFocus&&(e.on("keydown",k.onTrapFocusKeydown),T.body.on("keydown",k.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",k.onTrapFocusKeydown),T.body.off("keydown",k.onTrapFocusKeydown)},deactivateAll:function(t){e.forEach(t,function(t){var o=e.element(t);k.deactivate(o)})},setBodyPadding:function(e){var t=parseInt(T.body.css("padding-right")||0,10);T.body.css("padding-right",t+e+"px"),T.body.data("ng-dialog-original-padding",t),b.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=T.body.data("ng-dialog-original-padding");e?T.body.css("padding-right",e+"px"):T.body.css("padding-right",""),b.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,t){var o=e.data("$ngDialogOptions"),a=e.attr("id"),l=s[a];if(l){if(void 0!==S.Hammer){var u=l.hammerTime;u.off("tap",n),u.destroy&&u.destroy(),delete l.hammerTime}else e.unbind("click");1===g&&T.body.unbind("keydown",k.onDocumentKeydown),e.hasClass("ngdialog-closing")||(g-=1);var p=e.data("$ngDialogPreviousFocus");p&&p.focus&&p.focus(),b.$broadcast("ngDialog.closing",e,t),g=g<0?0:g,r&&!o.disableAnimation?(l.$destroy(),e.unbind(i).bind(i,function(){k.closeDialogElement(e,t)}).addClass("ngdialog-closing")):(l.$destroy(),k.closeDialogElement(e,t)),f[a]&&(f[a].resolve({id:a,value:t,$dialog:e,remainingDialogs:g}),delete f[a]),s[a]&&delete s[a],c.splice(c.indexOf(a),1),c.length||(T.body.unbind("keydown",k.onDocumentKeydown),d=!1)}},closeDialogElement:function(e,t){var o=e.data("$ngDialogOptions");e.remove(),0===g&&(T.html.removeClass(o.bodyClassName),T.body.removeClass(o.bodyClassName),k.resetBodyPadding()),b.$broadcast("ngDialog.closed",e,t)},closeDialog:function(t,o){var n=t.data("$ngDialogPreCloseCallback");if(n&&e.isFunction(n)){var a=n.call(t,o);if(e.isObject(a))a.closePromise?a.closePromise.then(function(){k.performCloseDialog(t,o)},function(){return!1}):a.then(function(){k.performCloseDialog(t,o)},function(){return!1});else{if(!1===a)return!1;k.performCloseDialog(t,o)}}else k.performCloseDialog(t,o)},onTrapFocusKeydown:function(t){var o,n=e.element(t.currentTarget);if(n.hasClass("ngdialog"))o=n;else if(null===(o=k.getActiveDialog()))return;var a=9===t.keyCode,r=!0===t.shiftKey;a&&k.handleTab(o,t,r)},handleTab:function(e,t,o){var n=k.getFocusableElements(e);if(0===n.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var a=document.activeElement,r=Array.prototype.indexOf.call(n,a),i=-1===r,l=0===r,s=r===n.length-1,c=!1;o?(i||l)&&(n[n.length-1].focus(),c=!0):(i||s)&&(n[0].focus(),c=!0),c&&(t.preventDefault(),t.stopPropagation())},autoFocus:function(e){var t=e[0],n=t.querySelector("*[autofocus]");if(null===n||(n.focus(),document.activeElement!==n)){var a=k.getFocusableElements(e);if(a.length>0)return void a[0].focus();var r=k.filterVisibleElements(t.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(r.length>0){var i=r[0];o(i).attr("tabindex","-1").css("outline","0"),i.focus()}}},getFocusableElements:function(e){var t=e[0],o=t.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),n=k.filterTabbableElements(o);return k.filterVisibleElements(n)},filterTabbableElements:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];"-1"!==o(a).attr("tabindex")&&t.push(a)}return t},filterVisibleElements:function(e){for(var t=[],o=0;o<e.length;o++){var n=e[o];(n.offsetWidth>0||n.offsetHeight>0)&&t.push(n)}return t},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:o(e[e.length-1])},applyAriaAttributes:function(e,t){if(t.ariaAuto){if(!t.ariaRole){var o=k.getFocusableElements(e).length>0?"dialog":"alertdialog";t.ariaRole=o}t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")}t.ariaRole&&e.attr("role",t.ariaRole),k.applyAriaAttribute(e,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector),k.applyAriaAttribute(e,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(e,t,n,a){if(n&&e.attr(t,n),a){var r=e.attr("id"),i=e[0].querySelector(a);if(!i)return;var l=r+"-"+t;return o(i).attr("id",l),e.attr(t,l),l}},detectUIRouter:function(){try{return e.module("ui.router"),!0}catch(e){return!1}},getRouterLocationEventName:function(){return k.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},E={__PRIVATE__:k,open:function(r){function i(e,t){return b.$broadcast("ngDialog.templateLoading",e),v.get(e,t||{}).then(function(t){return b.$broadcast("ngDialog.templateLoaded",e),t.data||""})}var l=null;if(r=r||{},!(u&&r.name&&(l=r.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(l)))){var p=e.copy(t),w=++a;l=l||"ngdialog"+w,c.push(l),void 0!==p.data&&(void 0===r.data&&(r.data={}),r.data=e.merge(e.copy(p.data),r.data)),e.extend(p,r);var A;f[l]=A=y.defer();var O;s[l]=O=e.isObject(p.scope)?p.scope.$new():b.$new();var L,x,B,P=e.extend({},p.resolve);return e.forEach(P,function(t,o){P[o]=e.isString(t)?$.get(t):$.invoke(t,null,null,o)}),y.all({template:function(t){return t?e.isString(t)&&p.plain?t:"boolean"!=typeof p.cache||p.cache?i(t,{cache:m}):i(t,{cache:!1}):"Empty template"}(p.template||p.templateUrl),locals:y.all(P)}).then(function(t){var a=t.template,r=t.locals;p.showClose&&(a+='<div class="ngdialog-close"></div>');var i=p.overlay?"":" ngdialog-no-overlay";if(L=o('<div id="'+l+'" class="ngdialog'+i+'"></div>'),L.html(p.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+a+"</div>":'<div class="ngdialog-content" role="document">'+a+"</div>"),L.data("$ngDialogOptions",p),O.ngDialogId=l,p.data&&e.isString(p.data)){var s=p.data.replace(/^\s*/,"")[0];O.ngDialogData="{"===s||"["===s?e.fromJson(p.data):new String(p.data),O.ngDialogData.ngDialogId=l}else p.data&&e.isObject(p.data)&&(O.ngDialogData=p.data,O.ngDialogData.ngDialogId=l);if(p.className&&L.addClass(p.className),p.appendClassName&&L.addClass(p.appendClassName),p.width&&(B=L[0].querySelector(".ngdialog-content"),e.isString(p.width)?B.style.width=p.width:B.style.width=p.width+"px"),p.height&&(B=L[0].querySelector(".ngdialog-content"),e.isString(p.height)?B.style.height=p.height:B.style.height=p.height+"px"),p.disableAnimation&&L.addClass("ngdialog-disabled-animation"),x=p.appendTo&&e.isString(p.appendTo)?e.element(document.querySelector(p.appendTo)):T.body,k.applyAriaAttributes(L,p),p.preCloseCallback){var c;e.isFunction(p.preCloseCallback)?c=p.preCloseCallback:e.isString(p.preCloseCallback)&&O&&(e.isFunction(O[p.preCloseCallback])?c=O[p.preCloseCallback]:O.$parent&&e.isFunction(O.$parent[p.preCloseCallback])?c=O.$parent[p.preCloseCallback]:b&&e.isFunction(b[p.preCloseCallback])&&(c=b[p.preCloseCallback])),c&&L.data("$ngDialogPreCloseCallback",c)}if(O.closeThisDialog=function(e){k.closeDialog(L,e)},p.controller&&(e.isString(p.controller)||e.isArray(p.controller)||e.isFunction(p.controller))){var u;p.controllerAs&&e.isString(p.controllerAs)&&(u=p.controllerAs);var f=C(p.controller,e.extend(r,{$scope:O,$element:L}),!0,u);p.bindToController&&e.extend(f.instance,{ngDialogId:O.ngDialogId,ngDialogData:O.ngDialogData,closeThisDialog:O.closeThisDialog,confirm:O.confirm}),"function"==typeof f?L.data("$ngDialogControllerController",f()):L.data("$ngDialogControllerController",f)}if(D(function(){var e=document.querySelectorAll(".ngdialog");k.deactivateAll(e),h(L)(O);var t=S.innerWidth-T.body.prop("clientWidth");T.html.addClass(p.bodyClassName),T.body.addClass(p.bodyClassName);var o=t-(S.innerWidth-T.body.prop("clientWidth"));o>0&&k.setBodyPadding(o),x.append(L),k.activate(L),p.trapFocus&&k.autoFocus(L),p.name?b.$broadcast("ngDialog.opened",{dialog:L,name:p.name}):b.$broadcast("ngDialog.opened",L)}),d||(T.body.bind("keydown",k.onDocumentKeydown),d=!0),p.closeByNavigation){var m=k.getRouterLocationEventName();b.$on(m,function(e){!1===k.closeDialog(L)&&e.preventDefault()})}if(p.preserveFocus&&L.data("$ngDialogPreviousFocus",document.activeElement),n=function(e){var t=!!p.closeByDocument&&o(e.target).hasClass("ngdialog-overlay"),n=o(e.target).hasClass("ngdialog-close");(t||n)&&E.close(L.attr("id"),n?"$closeButton":"$document")},void 0!==S.Hammer){(O.hammerTime=S.Hammer(L[0])).on("tap",n)}else L.bind("click",n);return g+=1,E}),{id:l,closePromise:A.promise,close:function(e){k.closeDialog(L,e)}}}},openConfirm:function(n){var a=y.defer(),r=e.copy(t);n=n||{},void 0!==r.data&&(void 0===n.data&&(n.data={}),n.data=e.merge(e.copy(r.data),n.data)),e.extend(r,n),r.scope=e.isObject(r.scope)?r.scope.$new():b.$new(),r.scope.confirm=function(e){a.resolve(e);var t=o(document.getElementById(i.id));k.performCloseDialog(t,e)};var i=E.open(r);if(i)return i.closePromise.then(function(e){return e?a.reject(e.value):a.reject()}),a.promise},isOpen:function(e){return o(document.getElementById(e)).length>0},close:function(e,t){var n=o(document.getElementById(e));if(n.length)k.closeDialog(n,t);else if("$escape"===e){var a=c[c.length-1];n=o(document.getElementById(a)),n.data("$ngDialogOptions").closeByEscape&&k.closeDialog(n,"$escape")}else E.closeAll(t);return E},closeAll:function(e){for(var t=document.querySelectorAll(".ngdialog"),n=t.length-1;n>=0;n--){var a=t[n];k.closeDialog(o(a),e)}},getOpenDialogs:function(){return c},getDefaults:function(){return t}};return e.forEach(["html","body"],function(e){if(T[e]=p.find(e),l[e]){var t=k.getRouterLocationEventName();b.$on(t,function(){T[e]=p.find(e)})}}),E}]}),t.directive("ngDialog",["ngDialog",function(t){return{restrict:"A",scope:{ngDialogScope:"="},link:function(o,n,a){n.on("click",function(n){n.preventDefault();var r=e.isDefined(o.ngDialogScope)?o.ngDialogScope:"noScope";e.isDefined(a.ngDialogClosePrevious)&&t.close(a.ngDialogClosePrevious);var i=t.getDefaults();t.open({template:a.ngDialog,className:a.ngDialogClass||i.className,appendClassName:a.ngDialogAppendClass,controller:a.ngDialogController,controllerAs:a.ngDialogControllerAs,bindToController:a.ngDialogBindToController,scope:r,data:a.ngDialogData,showClose:"false"!==a.ngDialogShowClose&&("true"===a.ngDialogShowClose||i.showClose),closeByDocument:"false"!==a.ngDialogCloseByDocument&&("true"===a.ngDialogCloseByDocument||i.closeByDocument),closeByEscape:"false"!==a.ngDialogCloseByEscape&&("true"===a.ngDialogCloseByEscape||i.closeByEscape),overlay:"false"!==a.ngDialogOverlay&&("true"===a.ngDialogOverlay||i.overlay),preCloseCallback:a.ngDialogPreCloseCallback||i.preCloseCallback,bodyClassName:a.ngDialogBodyClass||i.bodyClassName})})}}}]),t});