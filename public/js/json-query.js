!function(){function e(e,o,t,a){a.setDefaults({className:"ngdialog-theme-default",showClose:!0,closeByDocument:!0,closeByEscape:!0,width:"75%",height:"40%"}),t.includeSpinner=!0,t.parentSelector="#loadingContainer",t.spinnerTemplate='<div class="center"></div>',e.when("/",{controller:"JsonQueryController",templateUrl:"query.html"})}function o(e,o,t,a){}angular.module("jsonQuery",["ngRoute","ngSanitize","jsonQuery.controllers.main","jsonQuery.controllers.query","jsonQuery.services","angular-loading-bar","ngAnimate","flash","ngDialog","LocalStorageModule","ui.ace","angularLoad","ngclipboard"]).config(e).run(o),e.$inject=["$routeProvider","$locationProvider","cfpLoadingBarProvider","ngDialogProvider"],o.$inject=["$rootScope","$location","$http","localStorageService"]}(),function(){function JsonQueryController($scope,$location,$rootScope,$interval,jsonQueryService,Flash,ngDialog,angularLoad){$rootScope.$emit("onTabChanged",8),$scope.rightEditor="",$scope.libraries=jsonQueryService.getSupportedLibraries(),$scope.selectedLibrary=$scope.libraries[0],$scope.newLibrary={},$scope.curlRequest="";var loadLibrary=function(e){angularLoad.loadScript(e).then(function(){}).catch(function(){Flash.create("danger","Some error occurred while loading the library","custom-class")})},formatObject=function(e){return JSON.stringify(e,null,4)};$scope.format=function(){$scope.input=formatObject(JSON.parse($scope.input))},$scope.loadLibrary=function(){loadLibrary($scope.selectedLibrary.url)},$scope.run=function(){var input=JSON.parse($scope.input),result=eval($scope.rightEditor);$scope.resultEditor=formatObject(result)},$scope.add=function(){$scope.isAddNewLibrary=!0},$scope.cancel=function(){$scope.newLibrary={},$scope.isAddNewLibrary=!1},$scope.enableInternetRequest=function(){$scope.isInternetRequest=!0},$scope.disableInternetRequest=function(){$scope.curlRequest="",$scope.isInternetRequest=!1},$scope.fetchData=function(){if(!($scope.curlRequest&&$scope.curlRequest.indexOf("curl")>=0))return void Flash.create("danger","Please enter valid curl request","custom-class");jsonQueryService.fetchData($scope.curlRequest).then(function(e){var o=e.data.data;$scope.input=formatObject(JSON.parse(o)),$scope.disableInternetRequest()}).catch(function(e){Flash.create("danger",e.data.message,"custom-class")})},$scope.addLibrary=function(){var e=$scope.newLibrary;e.name&&e.url&&e.documentationUrl?($scope.libraries=jsonQueryService.addNewLibrary($scope.newLibrary),$scope.selectedLibrary=$scope.libraries[0],$scope.close()):Flash.create("danger","Please enter all the entries","custom-class")},$scope.deleteLibrary=function(){$scope.libraries=jsonQueryService.deleteLibrary($scope.selectedLibrary),console.log($scope.libraries),$scope.selectedLibrary=$scope.libraries[0]};var validBeforeSave=function(){return!!$scope.rightEditor||(Flash.create("danger","Please enter any code to save.","custom-class"),!1)};$scope.saveLocally=function(){validBeforeSave()&&jsonQueryService.saveLocally($scope.rightEditor,"")},$scope.generateGist=function(){validBeforeSave()&&jsonQueryService.generateGist($scope.rightEditor).then(function(e){var o=e.data.data;jsonQueryService.saveLocally($scope.rightEditor,o.html_url)}).catch(function(e){Flash.create("danger",e.data.message,"custom-class")})},loadLibrary($scope.selectedLibrary.url),$scope.input=formatObject(jsonQueryService.getDefaultObject()),$interval($scope.run,2e3)}angular.module("jsonQuery.controllers.query",[]).controller("JsonQueryController",["$scope","$location","$rootScope","$interval","jsonQueryService","Flash","ngDialog","angularLoad",JsonQueryController])}(),function(){var e=function(e,o,t,a,n){e.selectedTab=-1,e.isLoggedIn=!1,o.$on("onTabChanged",function(o,t){console.log(t),e.isLoggedIn=!0,e.selectedTab=t})};angular.module("jsonQuery.controllers.main",[]).controller("MainController",["$scope","$rootScope","jsonQueryService","$location","Flash",e])}(),function(){var e=function(e,o,t,a){var n=function(o){return e.post("/api/v1/query/gists",{description:"Query",public:!0,files:{"query.txt":{content:o}}})},r=function(o){return e.post("/api/v1/query/curl",{curl:o})},i=function(){return[{name:"Lodash",url:"https://cdn.jsdelivr.net/npm/lodash@4.17.5/lodash.min.js",documentationUrl:"https://lodash.com/"},{name:"Underscore",url:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js",documentationUrl:"http://underscorejs.org/"}]},l=function(){return 0==(a.get("libraries")||[]).length&&a.set("libraries",i()),a.get("libraries")},s=function(e){var o=l();return o.push(e),a.set("libraries",o),l()},c=function(e){for(var o=l(),t=[],n=0;n<o.length;n++)o[n].name!==e.name&&t.push(o[n]);return a.set("libraries",t),l()},u=function(){return a.get("savedCode")},d=function(e,o){var t=u();t||(t=[]),t.push({code:e,url:o,timestamp:new Date}),a.set("savedCode",t)};return{generateGist:n,getSupportedLibraries:l,getDefaultObject:function(){return[{name:"Java",version:"9"},{name:"C#",version:"7"},{name:"Scala",version:"NA"}]},addNewLibrary:s,deleteLibrary:c,saveLocally:d,fetchData:r}};angular.module("jsonQuery.services",[]).factory("jsonQueryService",["$http","$location","$rootScope","localStorageService",e])}(),function(){"use strict";var e=angular.module("flash",[]);e.run(["$rootScope",function(e){e.flash={},e.flash.text="",e.flash.type="",e.flash.timeout=5e3,e.hasFlash=!1}]),e.directive("dynamic",["$compile",function(e){return{restrict:"A",replace:!0,link:function(o,t,a){o.$watch(a.dynamic,function(a){t.html(a),e(t.contents())(o)})}}}]),e.directive("closeFlash",["$compile","Flash",function(e,o){return{link:function(e,t){t.on("click",function(){o.dismiss()})}}}]),e.directive("flashMessage",["$compile","$rootScope",function(e,o){return{restrict:"A",template:'<div role="alert" ng-show="hasFlash" class="alert {{flash.addClass}} alert-{{flash.type}} alert-dismissible ng-hide alertIn alertOut "> <span dynamic="flash.text"></span> <button type="button" class="close" close-flash><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> </div>',link:function(e,t,a){o.flash.timeout=parseInt(a.flashMessage,10)}}}]),e.factory("Flash",["$rootScope","$timeout",function(e,o){var t,a={};return a.create=function(a,n,r){var i=this;o.cancel(t),e.flash.type=a,e.flash.text=n,e.flash.addClass=r,o(function(){e.hasFlash=!0},100),t=o(function(){i.dismiss()},e.flash.timeout)},a.pause=function(){o.cancel(t)},a.dismiss=function(){o.cancel(t),o(function(){e.hasFlash=!1})},a}])}(),angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(e,o,t){function a(e){return function(a){if(void 0===r[a]){var n=o.defer(),i=e(a);i.onload=i.onreadystatechange=function(e){i.readyState&&"complete"!==i.readyState&&"loaded"!==i.readyState||t(function(){n.resolve(e)})},i.onerror=function(e){t(function(){n.reject(e)})},r[a]=n.promise}return r[a]}}var n=e[0],r={};this.loadScript=a(function(e){var o=n.createElement("script");return o.src=e,n.body.appendChild(o),o}),this.loadCSS=a(function(e){var o=n.createElement("link");return o.rel="stylesheet",o.type="text/css",o.href=e,n.head.appendChild(o),o}),this.unloadCSS=function(e){delete r[e];var o=n.head;if(o){var t=o.querySelector('[href="'+e+'"]');if(t)return t.remove(),!0}return!1}}]),function(e,o){"use strict";var t=o.isDefined,a=o.isUndefined,n=o.isNumber,r=o.isObject,i=o.isArray,l=o.extend,s=o.toJson;o.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){return this.prefix=e,this},this.setStorageType=function(e){return this.storageType=e,this},this.setStorageCookie=function(e,o){return this.cookie.expiry=e,this.cookie.path=o,this},this.setStorageCookieDomain=function(e){return this.cookie.domain=e,this},this.setNotify=function(e,o){return this.notify={setItem:e,removeItem:o},this},this.$get=["$rootScope","$window","$document","$parse",function(e,o,c,u){var d,g=this,f=g.prefix,p=g.cookie,m=g.notify,h=g.storageType;c?c[0]&&(c=c[0]):c=document,"."!==f.substr(-1)&&(f=f?f+".":"");var y=function(e){return f+e},v=function(){try{var t=h in o&&null!==o[h],a=y("__"+Math.round(1e7*Math.random()));return t&&(d=o[h],d.setItem(a,""),d.removeItem(a)),t}catch(o){return h="cookie",e.$broadcast("LocalStorageModule.notification.error",o.message),!1}}(),b=function(o,t){if(t=a(t)?null:s(t),!v||"cookie"===g.storageType)return v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),m.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:o,newvalue:t,storageType:"cookie"}),w(o,t);try{d&&d.setItem(y(o),t),m.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:o,newvalue:t,storageType:g.storageType})}catch(a){return e.$broadcast("LocalStorageModule.notification.error",a.message),w(o,t)}return!0},$=function(o){if(!v||"cookie"===g.storageType)return v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),T(o);var t=d?d.getItem(y(o)):null;if(!t||"null"===t)return null;try{return JSON.parse(t)}catch(e){return t}},S=function(){var o,t;for(o=0;o<arguments.length;o++)if(t=arguments[o],v&&"cookie"!==g.storageType)try{d.removeItem(y(t)),m.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:t,storageType:g.storageType})}catch(o){e.$broadcast("LocalStorageModule.notification.error",o.message),E(t)}else v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),m.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:t,storageType:"cookie"}),E(t)},D=function(){if(!v)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var o=f.length,t=[];for(var a in d)if(a.substr(0,o)===f)try{t.push(a.substr(o))}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.Description),[]}return t},C=function(o){var t=f?new RegExp("^"+f):new RegExp,a=o?new RegExp(o):new RegExp;if(!v||"cookie"===g.storageType)return v||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),k();var n=f.length;for(var r in d)if(t.test(r)&&a.test(r.substr(n)))try{S(r.substr(n))}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.message),k()}return!0},L=function(){try{return o.navigator.cookieEnabled||"cookie"in c&&(c.cookie.length>0||(c.cookie="test").indexOf.call(c.cookie,"test")>-1)}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.message),!1}}(),w=function(o,t,l){if(a(t))return!1;if((i(t)||r(t))&&(t=s(t)),!L)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var u="",d=new Date,g="";if(null===t?(d.setTime(d.getTime()+-864e5),u="; expires="+d.toGMTString(),t=""):n(l)&&0!==l?(d.setTime(d.getTime()+24*l*60*60*1e3),u="; expires="+d.toGMTString()):0!==p.expiry&&(d.setTime(d.getTime()+24*p.expiry*60*60*1e3),u="; expires="+d.toGMTString()),o){var f="; path="+p.path;p.domain&&(g="; domain="+p.domain),c.cookie=y(o)+"="+encodeURIComponent(t)+u+f+g}}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.message),!1}return!0},T=function(o){if(!L)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var t=c.cookie&&c.cookie.split(";")||[],a=0;a<t.length;a++){for(var n=t[a];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(y(o)+"=")){var r=decodeURIComponent(n.substring(f.length+o.length+1,n.length));try{return JSON.parse(r)}catch(e){return r}}}return null},E=function(e){w(e,null)},k=function(){for(var e=null,o=f.length,t=c.cookie.split(";"),a=0;a<t.length;a++){for(e=t[a];" "===e.charAt(0);)e=e.substring(1,e.length);var n=e.substring(o,e.indexOf("="));E(n)}};return{isSupported:v,getStorageType:function(){return h},set:b,add:b,get:$,keys:D,remove:S,clearAll:C,bind:function(e,o,a,n){n=n||o;var i=$(n);return null===i&&t(a)?i=a:r(i)&&r(a)&&(i=l(a,i)),u(o).assign(e,i),e.$watch(o,function(e){b(n,e)},r(e[o]))},deriveKey:y,length:function(){for(var e=0,t=o[h],a=0;a<t.length;a++)0===t.key(a).indexOf(f)&&e++;return e},cookie:{isSupported:L,set:w,add:w,get:T,remove:E,clearAll:k}}}]})}(window,window.angular),function(e,o){"undefined"!=typeof module&&module.exports?(o("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],o):o(e.angular)}(this,function(e){"use strict";var o=e.module("ngDialog",[]),t=e.element,a=e.isDefined,n=(document.body||document.documentElement).style,r=a(n.animation)||a(n.WebkitAnimation)||a(n.MozAnimation)||a(n.MsAnimation)||a(n.OAnimation),i="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",l={html:!1,body:!1},s={},c=[],u=!1,d=!1;return o.provider("ngDialog",function(){var o=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(e){l.html=e||!1},this.setForceBodyReload=function(e){l.body=e||!1},this.setDefaults=function(t){e.extend(o,t)},this.setOpenOnePerName=function(e){d=e||!1};var a,n=0,g=0,f={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(p,m,h,y,v,b,$,S,D,C){var L=[],w={onDocumentKeydown:function(e){27===e.keyCode&&T.close("$escape")},activate:function(e){e.data("$ngDialogOptions").trapFocus&&(e.on("keydown",w.onTrapFocusKeydown),L.body.on("keydown",w.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",w.onTrapFocusKeydown),L.body.off("keydown",w.onTrapFocusKeydown)},deactivateAll:function(o){e.forEach(o,function(o){var t=e.element(o);w.deactivate(t)})},setBodyPadding:function(e){var o=parseInt(L.body.css("padding-right")||0,10);L.body.css("padding-right",o+e+"px"),L.body.data("ng-dialog-original-padding",o),b.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=L.body.data("ng-dialog-original-padding");e?L.body.css("padding-right",e+"px"):L.body.css("padding-right",""),b.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,o){var t=e.data("$ngDialogOptions"),n=e.attr("id"),l=s[n];if(l){if(void 0!==S.Hammer){var d=l.hammerTime;d.off("tap",a),d.destroy&&d.destroy(),delete l.hammerTime}else e.unbind("click");1===g&&L.body.unbind("keydown",w.onDocumentKeydown),e.hasClass("ngdialog-closing")||(g-=1);var p=e.data("$ngDialogPreviousFocus");p&&p.focus&&p.focus(),b.$broadcast("ngDialog.closing",e,o),g=g<0?0:g,r&&!t.disableAnimation?(l.$destroy(),e.unbind(i).bind(i,function(){w.closeDialogElement(e,o)}).addClass("ngdialog-closing")):(l.$destroy(),w.closeDialogElement(e,o)),f[n]&&(f[n].resolve({id:n,value:o,$dialog:e,remainingDialogs:g}),delete f[n]),s[n]&&delete s[n],c.splice(c.indexOf(n),1),c.length||(L.body.unbind("keydown",w.onDocumentKeydown),u=!1)}},closeDialogElement:function(e,o){var t=e.data("$ngDialogOptions");e.remove(),0===g&&(L.html.removeClass(t.bodyClassName),L.body.removeClass(t.bodyClassName),w.resetBodyPadding()),b.$broadcast("ngDialog.closed",e,o)},closeDialog:function(o,t){var a=o.data("$ngDialogPreCloseCallback");if(a&&e.isFunction(a)){var n=a.call(o,t);if(e.isObject(n))n.closePromise?n.closePromise.then(function(){w.performCloseDialog(o,t)},function(){return!1}):n.then(function(){w.performCloseDialog(o,t)},function(){return!1});else{if(!1===n)return!1;w.performCloseDialog(o,t)}}else w.performCloseDialog(o,t)},onTrapFocusKeydown:function(o){var t,a=e.element(o.currentTarget);if(a.hasClass("ngdialog"))t=a;else if(null===(t=w.getActiveDialog()))return;var n=9===o.keyCode,r=!0===o.shiftKey;n&&w.handleTab(t,o,r)},handleTab:function(e,o,t){var a=w.getFocusableElements(e);if(0===a.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var n=document.activeElement,r=Array.prototype.indexOf.call(a,n),i=-1===r,l=0===r,s=r===a.length-1,c=!1;t?(i||l)&&(a[a.length-1].focus(),c=!0):(i||s)&&(a[0].focus(),c=!0),c&&(o.preventDefault(),o.stopPropagation())},autoFocus:function(e){var o=e[0],a=o.querySelector("*[autofocus]");if(null===a||(a.focus(),document.activeElement!==a)){var n=w.getFocusableElements(e);if(n.length>0)return void n[0].focus();var r=w.filterVisibleElements(o.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(r.length>0){var i=r[0];t(i).attr("tabindex","-1").css("outline","0"),i.focus()}}},getFocusableElements:function(e){var o=e[0],t=o.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),a=w.filterTabbableElements(t);return w.filterVisibleElements(a)},filterTabbableElements:function(e){for(var o=[],a=0;a<e.length;a++){var n=e[a];"-1"!==t(n).attr("tabindex")&&o.push(n)}return o},filterVisibleElements:function(e){for(var o=[],t=0;t<e.length;t++){var a=e[t];(a.offsetWidth>0||a.offsetHeight>0)&&o.push(a)}return o},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:t(e[e.length-1])},applyAriaAttributes:function(e,o){if(o.ariaAuto){if(!o.ariaRole){var t=w.getFocusableElements(e).length>0?"dialog":"alertdialog";o.ariaRole=t}o.ariaLabelledBySelector||(o.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),o.ariaDescribedBySelector||(o.ariaDescribedBySelector="article,section,p")}o.ariaRole&&e.attr("role",o.ariaRole),w.applyAriaAttribute(e,"aria-labelledby",o.ariaLabelledById,o.ariaLabelledBySelector),w.applyAriaAttribute(e,"aria-describedby",o.ariaDescribedById,o.ariaDescribedBySelector)},applyAriaAttribute:function(e,o,a,n){if(a&&e.attr(o,a),n){var r=e.attr("id"),i=e[0].querySelector(n);if(!i)return;var l=r+"-"+o;return t(i).attr("id",l),e.attr(o,l),l}},detectUIRouter:function(){try{return e.module("ui.router"),!0}catch(e){return!1}},getRouterLocationEventName:function(){return w.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},T={__PRIVATE__:w,open:function(r){function i(e,o){return b.$broadcast("ngDialog.templateLoading",e),v.get(e,o||{}).then(function(o){return b.$broadcast("ngDialog.templateLoaded",e),o.data||""})}var l=null;if(r=r||{},!(d&&r.name&&(l=r.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(l)))){var p=e.copy(o),E=++n;l=l||"ngdialog"+E,c.push(l),void 0!==p.data&&(void 0===r.data&&(r.data={}),r.data=e.merge(e.copy(p.data),r.data)),e.extend(p,r);var k;f[l]=k=y.defer();var O;s[l]=O=e.isObject(p.scope)?p.scope.$new():b.$new();var A,x,j,B=e.extend({},p.resolve);return e.forEach(B,function(o,t){B[t]=e.isString(o)?C.get(o):C.invoke(o,null,null,t)}),y.all({template:function(o){return o?e.isString(o)&&p.plain?o:"boolean"!=typeof p.cache||p.cache?i(o,{cache:m}):i(o,{cache:!1}):"Empty template"}(p.template||p.templateUrl),locals:y.all(B)}).then(function(o){var n=o.template,r=o.locals;p.showClose&&(n+='<div class="ngdialog-close"></div>');var i=p.overlay?"":" ngdialog-no-overlay";if(A=t('<div id="'+l+'" class="ngdialog'+i+'"></div>'),A.html(p.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+n+"</div>":'<div class="ngdialog-content" role="document">'+n+"</div>"),A.data("$ngDialogOptions",p),O.ngDialogId=l,p.data&&e.isString(p.data)){var s=p.data.replace(/^\s*/,"")[0];O.ngDialogData="{"===s||"["===s?e.fromJson(p.data):new String(p.data),O.ngDialogData.ngDialogId=l}else p.data&&e.isObject(p.data)&&(O.ngDialogData=p.data,O.ngDialogData.ngDialogId=l);if(p.className&&A.addClass(p.className),p.appendClassName&&A.addClass(p.appendClassName),p.width&&(j=A[0].querySelector(".ngdialog-content"),e.isString(p.width)?j.style.width=p.width:j.style.width=p.width+"px"),p.height&&(j=A[0].querySelector(".ngdialog-content"),e.isString(p.height)?j.style.height=p.height:j.style.height=p.height+"px"),p.disableAnimation&&A.addClass("ngdialog-disabled-animation"),x=p.appendTo&&e.isString(p.appendTo)?e.element(document.querySelector(p.appendTo)):L.body,w.applyAriaAttributes(A,p),p.preCloseCallback){var c;e.isFunction(p.preCloseCallback)?c=p.preCloseCallback:e.isString(p.preCloseCallback)&&O&&(e.isFunction(O[p.preCloseCallback])?c=O[p.preCloseCallback]:O.$parent&&e.isFunction(O.$parent[p.preCloseCallback])?c=O.$parent[p.preCloseCallback]:b&&e.isFunction(b[p.preCloseCallback])&&(c=b[p.preCloseCallback])),c&&A.data("$ngDialogPreCloseCallback",c)}if(O.closeThisDialog=function(e){w.closeDialog(A,e)},p.controller&&(e.isString(p.controller)||e.isArray(p.controller)||e.isFunction(p.controller))){var d;p.controllerAs&&e.isString(p.controllerAs)&&(d=p.controllerAs);var f=D(p.controller,e.extend(r,{$scope:O,$element:A}),!0,d);p.bindToController&&e.extend(f.instance,{ngDialogId:O.ngDialogId,ngDialogData:O.ngDialogData,closeThisDialog:O.closeThisDialog,confirm:O.confirm}),"function"==typeof f?A.data("$ngDialogControllerController",f()):A.data("$ngDialogControllerController",f)}if($(function(){var e=document.querySelectorAll(".ngdialog");w.deactivateAll(e),h(A)(O);var o=S.innerWidth-L.body.prop("clientWidth");L.html.addClass(p.bodyClassName),L.body.addClass(p.bodyClassName);var t=o-(S.innerWidth-L.body.prop("clientWidth"));t>0&&w.setBodyPadding(t),x.append(A),w.activate(A),p.trapFocus&&w.autoFocus(A),p.name?b.$broadcast("ngDialog.opened",{dialog:A,name:p.name}):b.$broadcast("ngDialog.opened",A)}),u||(L.body.bind("keydown",w.onDocumentKeydown),u=!0),p.closeByNavigation){var m=w.getRouterLocationEventName();b.$on(m,function(e){!1===w.closeDialog(A)&&e.preventDefault()})}if(p.preserveFocus&&A.data("$ngDialogPreviousFocus",document.activeElement),a=function(e){var o=!!p.closeByDocument&&t(e.target).hasClass("ngdialog-overlay"),a=t(e.target).hasClass("ngdialog-close");(o||a)&&T.close(A.attr("id"),a?"$closeButton":"$document")},void 0!==S.Hammer){(O.hammerTime=S.Hammer(A[0])).on("tap",a)}else A.bind("click",a);return g+=1,T}),{id:l,closePromise:k.promise,close:function(e){w.closeDialog(A,e)}}}},openConfirm:function(a){var n=y.defer(),r=e.copy(o);a=a||{},void 0!==r.data&&(void 0===a.data&&(a.data={}),a.data=e.merge(e.copy(r.data),a.data)),e.extend(r,a),r.scope=e.isObject(r.scope)?r.scope.$new():b.$new(),r.scope.confirm=function(e){n.resolve(e);var o=t(document.getElementById(i.id));w.performCloseDialog(o,e)};var i=T.open(r);if(i)return i.closePromise.then(function(e){return e?n.reject(e.value):n.reject()}),n.promise},isOpen:function(e){return t(document.getElementById(e)).length>0},close:function(e,o){var a=t(document.getElementById(e));if(a.length)w.closeDialog(a,o);else if("$escape"===e){var n=c[c.length-1];a=t(document.getElementById(n)),a.data("$ngDialogOptions").closeByEscape&&w.closeDialog(a,"$escape")}else T.closeAll(o);return T},closeAll:function(e){for(var o=document.querySelectorAll(".ngdialog"),a=o.length-1;a>=0;a--){var n=o[a];w.closeDialog(t(n),e)}},getOpenDialogs:function(){return c},getDefaults:function(){return o}};return e.forEach(["html","body"],function(e){if(L[e]=p.find(e),l[e]){var o=w.getRouterLocationEventName();b.$on(o,function(){L[e]=p.find(e)})}}),T}]}),o.directive("ngDialog",["ngDialog",function(o){return{restrict:"A",scope:{ngDialogScope:"="},link:function(t,a,n){a.on("click",function(a){a.preventDefault();var r=e.isDefined(t.ngDialogScope)?t.ngDialogScope:"noScope";e.isDefined(n.ngDialogClosePrevious)&&o.close(n.ngDialogClosePrevious);var i=o.getDefaults();o.open({template:n.ngDialog,className:n.ngDialogClass||i.className,appendClassName:n.ngDialogAppendClass,controller:n.ngDialogController,controllerAs:n.ngDialogControllerAs,bindToController:n.ngDialogBindToController,scope:r,data:n.ngDialogData,showClose:"false"!==n.ngDialogShowClose&&("true"===n.ngDialogShowClose||i.showClose),closeByDocument:"false"!==n.ngDialogCloseByDocument&&("true"===n.ngDialogCloseByDocument||i.closeByDocument),closeByEscape:"false"!==n.ngDialogCloseByEscape&&("true"===n.ngDialogCloseByEscape||i.closeByEscape),overlay:"false"!==n.ngDialogOverlay&&("true"===n.ngDialogOverlay||i.overlay),preCloseCallback:n.ngDialogPreCloseCallback||i.preCloseCallback,bodyClassName:n.ngDialogBodyClass||i.bodyClassName})})}}}]),o}),function(){"use strict";var e,o,t="ngclipboard";"object"==typeof module&&module.exports?(e=require("angular"),o=require("clipboard"),module.exports=t):(e=window.angular,o=window.Clipboard),e.module(t,[]).directive("ngclipboard",function(){return{restrict:"A",scope:{ngclipboardSuccess:"&",ngclipboardError:"&"},link:function(e,t){var a=new o(t[0]);a.on("success",function(o){e.$apply(function(){e.ngclipboardSuccess({e:o})})}),a.on("error",function(o){e.$apply(function(){e.ngclipboardError({e:o})})}),t.on("$destroy",function(){a.destroy()})}}})}();